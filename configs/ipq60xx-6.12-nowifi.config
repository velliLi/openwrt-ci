# 硬件目标平台设置
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_zn_m2=y

# 核心性能优化
CONFIG_COREMARK_ENABLE_MULTITHREADING=y
CONFIG_COREMARK_NUMBER_OF_THREADS=4
CONFIG_COREMARK_OPTIMIZE_O3=y
CONFIG_KERNEL_ARM_PMU=y
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_luci-app-bbr=y

# Web 服务器改回 uhttpd (取消 Nginx)
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
CONFIG_PACKAGE_luci-nginx=n
CONFIG_PACKAGE_nginx-ssl=n

# 移除无线驱动及相关支持 (No-WiFi 方案)
CONFIG_DRIVER_11AC_SUPPORT=n
CONFIG_DRIVER_11AX_SUPPORT=n
CONFIG_PACKAGE_ath11k-firmware-ipq6018=n
CONFIG_PACKAGE_kmod-ath11k=n
CONFIG_PACKAGE_kmod-ath11k-ahb=n
CONFIG_PACKAGE_kmod-ath11k-pci=n
CONFIG_PACKAGE_ipq-wifi-zn_m2=n

# 移除 USB 及存储相关驱动 (兆能 M2 无 USB 接口)
CONFIG_PACKAGE_kmod-usb-dwc3=n
CONFIG_PACKAGE_kmod-usb-dwc3-qcom=n
CONFIG_PACKAGE_kmod-usb3=n
CONFIG_PACKAGE_kmod-fs-ext4=n
CONFIG_PACKAGE_kmod-fs-f2fs=n
CONFIG_PACKAGE_e2fsprogs=n
CONFIG_PACKAGE_f2fs-tools=n
CONFIG_PACKAGE_block-mount=n
CONFIG_PACKAGE_automount=n

# 移除 Docker 相关 (节省空间与编译时间)
CONFIG_PACKAGE_docker=n
CONFIG_PACKAGE_dockerd=n
CONFIG_PACKAGE_luci-app-dockerman=n

# 移除 SQM (保证 NSS 硬件加速最大化)
CONFIG_PACKAGE_luci-app-sqm=n

# 启用 NSS 硬件加速支持
CONFIG_PACKAGE_kmod-qca-nss-drv-pppoe=y
CONFIG_PACKAGE_kmod-qca-nss-drv-qdisc=y
CONFIG_PACKAGE_kmod-qca-nss-ecm=y
CONFIG_NSS_DRV_PPTP_ENABLE=y
CONFIG_NSS_DRV_MAPT_ENABLE=y

# 集成 AdGuardHome
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y

# 集成 SmartDNS
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y

# 新增集成 Lucky 插件（含中文语言包）
CONFIG_PACKAGE_lucky=y
CONFIG_PACKAGE_luci-app-lucky=y
CONFIG_PACKAGE_luci-i18n-lucky-zh-cn=y

# 其他实用插件
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-app-wol=y
CONFIG_PACKAGE_luci-i18n-wol-zh-cn=y
CONFIG_PACKAGE_luci-app-netdata=y
CONFIG_PACKAGE_luci-i18n-netdata-zh-cn=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-theme-argon=y

# 基础语言包与常用工具
CONFIG_LUCI_LANG_zh_Hans=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_nano=y

# 彻底禁用无线认证/管理服务（核心：解决 hostapd 编译错误）
CONFIG_PACKAGE_wpad-full-openssl=n
CONFIG_PACKAGE_wpad-basic-openssl=n
CONFIG_PACKAGE_wpad-mbedtls=n
CONFIG_PACKAGE_hostapd=n
CONFIG_PACKAGE_hostapd-common=n
CONFIG_PACKAGE_hostapd-utils=n
CONFIG_PACKAGE_iw=n
CONFIG_PACKAGE_iwinfo=n

# 额外禁用 luci 中依赖无线的组件（防止隐式依赖）
CONFIG_PACKAGE_luci-proto-wireless=n
CONFIG_PACKAGE_luci-app-wifi-config=n

# 集成 PassWall 2 及其核心
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-app-passwall_Iptables_Transparent_Proxy=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Bin=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_SingBox=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
